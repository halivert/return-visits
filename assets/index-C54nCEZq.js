import{J as O,K as N,L as T,E as v,M,f as R,N as w,O as A,P as _,Q as k,k as h,m as b,R as E}from"./index-Du3eMYQp.js";function S(e){return A()?(_(e),!0):!1}function g(e){return typeof e=="function"?e():R(e)}const y=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const P=e=>e!=null,W=()=>{};function C(e){return w()}function B(...e){if(e.length!==1)return O(...e);const t=e[0];return typeof t=="function"?N(T(()=>({get:t,set:W}))):v(t)}function D(e,t){C()&&M(e,t)}const G=y?window:void 0,L=y?window.document:void 0,U=y?window.navigator:void 0;function V(e){var t;const i=g(e);return(t=i==null?void 0:i.$el)!=null?t:i}function x(){const e=v(!1),t=w();return t&&E(()=>{e.value=!0},t),e}function I(e){const t=x();return b(()=>(t.value,!!e()))}function F(e,t,i={}){const{window:c=G,...r}=i;let n;const a=I(()=>c&&"MutationObserver"in c),s=()=>{n&&(n.disconnect(),n=void 0)},l=b(()=>{const u=g(e),m=(Array.isArray(u)?u:[u]).map(V).filter(P);return new Set(m)}),f=h(()=>l.value,u=>{s(),a.value&&u.size&&(n=new MutationObserver(t),u.forEach(m=>n.observe(m,r)))},{immediate:!0,flush:"post"}),d=()=>n==null?void 0:n.takeRecords(),o=()=>{f(),s()};return S(o),{isSupported:a,stop:o,takeRecords:d}}function $(e={}){const{enableHighAccuracy:t=!0,maximumAge:i=3e4,timeout:c=27e3,navigator:r=U,immediate:n=!0}=e,a=I(()=>r&&"geolocation"in r),s=v(null),l=k(null),f=v({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function d(p){s.value=p.timestamp,f.value=p.coords,l.value=null}let o;function u(){a.value&&(o=r.geolocation.watchPosition(d,p=>l.value=p,{enableHighAccuracy:t,maximumAge:i,timeout:c}))}n&&u();function m(){o&&r&&r.geolocation.clearWatch(o)}return S(()=>{m()}),{isSupported:a,coords:f,locatedAt:s,error:l,resume:u,pause:m}}function q(e=null,t={}){var i,c,r;const{document:n=L,restoreOnUnmount:a=o=>o}=t,s=(i=n==null?void 0:n.title)!=null?i:"",l=B((c=e??(n==null?void 0:n.title))!=null?c:null),f=e&&typeof e=="function";function d(o){if(!("titleTemplate"in t))return o;const u=t.titleTemplate||"%s";return typeof u=="function"?u(o):g(u).replace(/%s/g,o)}return h(l,(o,u)=>{o!==u&&n&&(n.title=d(typeof o=="string"?o:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&n&&!f&&F((r=n.head)==null?void 0:r.querySelector("title"),()=>{n&&n.title!==l.value&&(l.value=d(n.title))},{childList:!0}),D(()=>{if(a){const o=a(s,l.value||"");o!=null&&n&&(n.title=o)}}),l}export{q as a,$ as u};

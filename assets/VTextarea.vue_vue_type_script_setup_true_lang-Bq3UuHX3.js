var R=t=>{throw TypeError(t)};var E=(t,e,s)=>e.has(t)||R("Cannot "+s);var i=(t,e,s)=>(E(t,e,"read from private field"),s?s.call(t):e.get(t)),y=(t,e,s)=>e.has(t)?R("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),g=(t,e,s,r)=>(E(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),M=(t,e,s)=>(E(t,e,"access private method"),s);import{Y as P,Z as j,_ as U,$ as J,a0 as Q,u as Y,k as x,a1 as Z,a2 as _,a3 as G,i as D,a4 as H,a5 as W,U as X,d as B,c as p,F as S,s as I,l as w,o as h,g as ee,t as K,B as L,C as V,E as N,a6 as se,b as T,a7 as z,J as te,I as q,a8 as re,e as ae}from"./index-CRgsI8ii.js";var v,b,l,c,m,k,$,A,ie=(A=class extends P{constructor(e,s){super();y(this,m);y(this,v);y(this,b);y(this,l);y(this,c);g(this,v,e),this.setOptions(s),this.bindMethods(),M(this,m,k).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const s=this.options;this.options=i(this,v).defaultMutationOptions(e),j(this.options,s)||i(this,v).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,l),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&U(s.mutationKey)!==U(this.options.mutationKey)?this.reset():((r=i(this,l))==null?void 0:r.state.status)==="pending"&&i(this,l).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=i(this,l))==null||e.removeObserver(this)}onMutationUpdate(e){M(this,m,k).call(this),M(this,m,$).call(this,e)}getCurrentResult(){return i(this,b)}reset(){var e;(e=i(this,l))==null||e.removeObserver(this),g(this,l,void 0),M(this,m,k).call(this),M(this,m,$).call(this)}mutate(e,s){var r;return g(this,c,s),(r=i(this,l))==null||r.removeObserver(this),g(this,l,i(this,v).getMutationCache().build(i(this,v),this.options)),i(this,l).addObserver(this),i(this,l).execute(e)}},v=new WeakMap,b=new WeakMap,l=new WeakMap,c=new WeakMap,m=new WeakSet,k=function(){var s;const e=((s=i(this,l))==null?void 0:s.state)??J();g(this,b,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},$=function(e){Q.batch(()=>{var s,r,o,a,u,d,O,C;if(i(this,c)&&this.hasListeners()){const n=i(this,b).variables,f=i(this,b).context;(e==null?void 0:e.type)==="success"?((r=(s=i(this,c)).onSuccess)==null||r.call(s,e.data,n,f),(a=(o=i(this,c)).onSettled)==null||a.call(o,e.data,null,n,f)):(e==null?void 0:e.type)==="error"&&((d=(u=i(this,c)).onError)==null||d.call(u,e.error,n,f),(C=(O=i(this,c)).onSettled)==null||C.call(O,void 0,e.error,n,f))}this.listeners.forEach(n=>{n(i(this,b))})})},A);function pe(t,e){const s=Y(),r=x(()=>s.defaultMutationOptions(Z(t))),o=new ie(s,r.value),a=_(o.getCurrentResult()),u=o.subscribe(n=>{G(a,n)}),d=(n,f)=>{o.mutate(n,f).catch(()=>{})};D(r,()=>{o.setOptions(r.value)}),X(()=>{u()});const C=H(a);return D(()=>a.error,n=>{if(n&&W(r.value.throwOnError,[n]))throw n}),{...C,mutate:d,mutateAsync:a.mutate,reset:a.reset}}const oe={key:0,class:"text-chili-600 whitespace-pre-line"},ne={key:0},F=B({__name:"VInputErrors",props:{errors:{}},setup(t){const e=t,s=x(()=>new Set((Array.isArray(e.errors)?e.errors:[e.errors]).filter(Boolean)));return(r,o)=>s.value.size?(h(),p("small",oe,[(h(!0),p(S,null,I(s.value,(a,u)=>(h(),p(S,{key:a},[ee(K(a)+" ",1),u<s.value.size-1?(h(),p("br",ne)):w("",!0)],64))),128))])):w("",!0)}}),le=["name","id","type","list"],ue=["id"],me=B({inheritAttrs:!1,__name:"VInput",props:L({id:{},type:{default:"text"},divClass:{},hideErrors:{type:Boolean},list:{}},{modelValue:{},modelModifiers:{},errors:{},errorsModifiers:{}}),emits:["update:modelValue","update:errors"],setup(t){const e=t,s=V(t,"modelValue"),r=V(t,"errors"),o=x(()=>["checkbox","radio"].includes(e.type));return(a,u)=>(h(),p("div",{class:q(a.divClass)},[N(T("input",z({name:a.id},a.$attrs,{id:a.id,type:a.type,class:["border rounded-sm h-8 block px-2 py-1 dark:text-lemon-50",{"w-full max-w-full":!o.value},r.value?"border-chili-400 accent-chili-600":"border-asparagus-100 accent-asparagus-600"],"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d),list:a.list?`${a.id}List`:void 0,onChange:u[1]||(u[1]=d=>r.value="")}),null,16,le),[[se,s.value]]),a.list?(h(),p("datalist",{key:0,id:`${a.id}List`},[(h(!0),p(S,null,I(a.list,d=>(h(),p("option",{key:d},K(d),1))),128))],8,ue)):w("",!0),a.hideErrors?w("",!0):(h(),te(F,{key:1,errors:r.value},null,8,["errors"]))],2))}}),de=["id","name"],ve=B({inheritAttrs:!1,__name:"VTextarea",props:L({divClass:{},id:{}},{modelValue:{},modelModifiers:{},errors:{},errorsModifiers:{}}),emits:["update:modelValue","update:errors"],setup(t){const e=V(t,"modelValue"),s=V(t,"errors");return(r,o)=>(h(),p("div",{class:q(r.divClass)},[N(T("textarea",z({rows:"10",maxlength:"500"},r.$attrs,{id:r.id,name:r.id,class:["block px-2 py-1 max-w-full rounded-sm border w-full dark:text-lemon-50",s.value?"border-chili-400 accent-chili-600":"border-asparagus-100 accent-asparagus-600"],"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),onChange:o[1]||(o[1]=a=>s.value="")}),null,16,de),[[re,e.value]]),ae(F,{errors:s.value},null,8,["errors"])],2))}});export{me as _,ve as a,F as b,pe as u};

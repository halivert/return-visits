import{d as R,j as N,k as a,c as n,F as V,b as t,t as i,l as c,e as h,g as B,m as d,q as b,h as C,s as E,v as g,o as r,D as P}from"./index-BKoJM1dk.js";import{a as j}from"./index-CqqH-Fj3.js";import{u as D,a as y}from"./useAsyncPerson-jTSdQ0Nb.js";const F={class:"max-w-prose mx-auto py-2 px-3"},S={key:0,class:"text-3xl font-bold text-center"},A={class:"flex justify-between flex-wrap gap-3"},L={class:"text-3xl font-bold"},I={class:"text-2xl font-semibold"},T=["href"],U={key:0,class:"underline text-sm"},$={class:"px-2 py-1"},q={class:"flex justify-between"},Q={class:"inline-block fixed bottom-4 right-5"},Y={async beforeRouteEnter(u,m,l){try{await y({id:parseInt(u.params.id,10)}),l()}catch{l({name:"NotFound"})}}},J=R({...Y,__name:"PeopleShow",props:{id:{}},setup(u){const m=C(),l=E();N(s=>{y({id:parseInt(s.params.id,10)}).catch(()=>{m.replace({name:"NotFound"})})});const p=u,_=a(()=>p.id),k=D({id:_}),o=a(()=>k.data.value),f=a(()=>{if(!o.value||!o.value.location)return"";const{latitude:s,longitude:e}=o.value.location;return!s||!e?"":`https://www.google.com/maps/search/${s},${e}`}),v=a(()=>{});return j(a(()=>{var s;return[(s=o.value)==null?void 0:s.name,l.meta.appName].filter(Boolean).join(" | ")})),(s,e)=>{const x=g("RouterLink"),w=g("router-view");return r(),n("main",F,[o.value?(r(),n(V,{key:1},[t("div",A,[t("h1",L,i(o.value.name||"Sin nombre"),1),t("h2",I,[c(i(o.value.colony)+" ",1),f.value?(r(),n("a",{key:0,href:f.value,rel:"noopener noreferrer",target:"_blank",class:"text-base bg-lemon-100"}," (UbicaciÃ³n) ",8,T)):h("",!0)])]),v.value!=null?(r(),n("span",U," Volver el "+i(B(P)[v.value]),1)):h("",!0),t("p",null,i(o.value.description),1),e[3]||(e[3]=t("hr",{class:"h-0.5 bg-asparagus-600 my-3"},null,-1)),t("section",$,[t("div",q,[e[1]||(e[1]=t("h2",{class:"text-xl font-semibold"},"Revisitas",-1)),d(x,{to:{name:"PeopleReturnVisitsCreate"},class:"underline bg-lemon-100","active-class":"hidden"},{default:b(()=>e[0]||(e[0]=[c(" Agregar revisita ")])),_:1})]),d(w,{class:"mt-6"})]),t("div",Q,[d(x,{to:{name:"PeopleEdit",params:{id:_.value}},class:"inline-block underline bg-lemon-100"},{default:b(()=>e[2]||(e[2]=[c(" Editar persona ")])),_:1},8,["to"])])],64)):(r(),n("h1",S,"Error"))])}}});export{J as default};

import{J as O,K as N,L as T,E as v,M,N as h,O as R,P as A,Q as _,k as w,m as b,R as g,S as k}from"./index-CBrLZj9s.js";function S(t){return R()?(A(t),!0):!1}const y=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=t=>t!=null,P=()=>{};function W(t){return h()}function C(t){return Array.isArray(t)?t:[t]}function B(...t){if(t.length!==1)return O(...t);const e=t[0];return typeof e=="function"?N(T(()=>({get:e,set:P}))):v(e)}function D(t,e){W()&&M(t,e)}const G=y?window:void 0,L=y?window.document:void 0,U=y?window.navigator:void 0;function x(t){var e;const i=g(t);return(e=i==null?void 0:i.$el)!=null?e:i}function F(){const t=v(!1),e=h();return e&&k(()=>{t.value=!0},e),t}function I(t){const e=F();return b(()=>(e.value,!!t()))}function Y(t,e,i={}){const{window:c=G,...r}=i;let n;const a=I(()=>c&&"MutationObserver"in c),s=()=>{n&&(n.disconnect(),n=void 0)},l=b(()=>{const u=g(t),m=C(u).map(x).filter(E);return new Set(m)}),f=w(()=>l.value,u=>{s(),a.value&&u.size&&(n=new MutationObserver(e),u.forEach(m=>n.observe(m,r)))},{immediate:!0,flush:"post"}),d=()=>n==null?void 0:n.takeRecords(),o=()=>{f(),s()};return S(o),{isSupported:a,stop:o,takeRecords:d}}function q(t={}){const{enableHighAccuracy:e=!0,maximumAge:i=3e4,timeout:c=27e3,navigator:r=U,immediate:n=!0}=t,a=I(()=>r&&"geolocation"in r),s=v(null),l=_(null),f=v({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function d(p){s.value=p.timestamp,f.value=p.coords,l.value=null}let o;function u(){a.value&&(o=r.geolocation.watchPosition(d,p=>l.value=p,{enableHighAccuracy:e,maximumAge:i,timeout:c}))}n&&u();function m(){o&&r&&r.geolocation.clearWatch(o)}return S(()=>{m()}),{isSupported:a,coords:f,locatedAt:s,error:l,resume:u,pause:m}}function z(t=null,e={}){var i,c,r;const{document:n=L,restoreOnUnmount:a=o=>o}=e,s=(i=n==null?void 0:n.title)!=null?i:"",l=B((c=t??(n==null?void 0:n.title))!=null?c:null),f=!!(t&&typeof t=="function");function d(o){if(!("titleTemplate"in e))return o;const u=e.titleTemplate||"%s";return typeof u=="function"?u(o):g(u).replace(/%s/g,o)}return w(l,(o,u)=>{o!==u&&n&&(n.title=d(o??""))},{immediate:!0}),e.observe&&!e.titleTemplate&&n&&!f&&Y((r=n.head)==null?void 0:r.querySelector("title"),()=>{n&&n.title!==l.value&&(l.value=d(n.title))},{childList:!0}),D(()=>{if(a){const o=a(s,l.value||"");o!=null&&n&&(n.title=o)}}),l}export{z as a,q as u};
